<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "=//mybatis.org//DTD Mapper 3.0//EN"
	"http:/mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace = "web.shoppingmall.mapper.ImageMapper">
	<insert id="imageRegister">
		<![CDATA[
			INSERT INTO images VALUES (
			    'i'
			    || to_char(sysdate, 'YYYYMMDD')
			    || substr(img_seq.NEXTVAL + 10000, 2),
			    #{img_name},
			    #{img_path},
			    #{img_uuid},
			    #{parent_num},
			    #{parnet_type}
			)		
		]]>
	</insert>
	<select id="imageDisplay" resultType="web.shoppingmall.domain.ImageDTO">
		SELECT
		    *
		FROM
		    images
		WHERE
		    parent_num = #{parent_num}
	</select>
</mapper>